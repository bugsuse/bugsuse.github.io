<HTML> <BODY BGCOLOR=#eedddd LINK=#0000aa VLINK=#0000ff ALINK=#ff0000 ><BASE TARGET="bottom_target"><PRE><a name='1'>
<font color=#447700>!WRF:MEDIATION_LAYER:INTERPOLATIONFUNCTION<a name='2'></font>
<font color=#447700>!<a name='3'></font>
<a name='4'>
<A NAME='INTERP_FCN'><A href='../../html_code/share/module_interp_fcn.F.html#INTERP_FCN' TARGET='top_target'><IMG SRC="../../gif/bar_red.gif" border=0></A><a name='5'>
   <font color=#993300>SUBROUTINE </font><font color=#cc0000>interp_fcn</font> ( cfld,                                 &amp;  <font color=#447700>! CD field <A href='../../call_to/INTERP_FCN.html' TARGET='index'>2</A>,<A href='../../call_from/INTERP_FCN.html' TARGET='index'>6</A><a name='6'></font>
                           cids, cide, ckds, ckde, cjds, cjde,   &amp;<a name='7'>
                           cims, cime, ckms, ckme, cjms, cjme,   &amp;<a name='8'>
                           cits, cite, ckts, ckte, cjts, cjte,   &amp;<a name='9'>
                           nfld,                                 &amp;  <font color=#447700>! ND field<a name='10'></font>
                           nids, nide, nkds, nkde, njds, njde,   &amp;<a name='11'>
                           nims, nime, nkms, nkme, njms, njme,   &amp;<a name='12'>
                           nits, nite, nkts, nkte, njts, njte,   &amp;<a name='13'>
                           nri, nrj                             )   <font color=#447700>! nest ratios<a name='14'></font>
     IMPLICIT NONE<a name='15'>
<a name='16'>
<a name='17'>
     INTEGER, INTENT(IN) :: cids, cide, ckds, ckde, cjds, cjde,   &amp;<a name='18'>
                            cims, cime, ckms, ckme, cjms, cjme,   &amp;<a name='19'>
                            cits, cite, ckts, ckte, cjts, cjte,   &amp;<a name='20'>
                            nids, nide, nkds, nkde, njds, njde,   &amp;<a name='21'>
                            nims, nime, nkms, nkme, njms, njme,   &amp;<a name='22'>
                            nits, nite, nkts, nkte, njts, njte,   &amp;<a name='23'>
                            nri, nrj<a name='24'>
<a name='25'>
     REAL, DIMENSION ( cims:cime, ckms:ckme, cjms:cjme ) :: cfld<a name='26'>
     REAL, DIMENSION ( nims:nime, nkms:nkme, njms:njme ) :: nfld<a name='27'>
<a name='28'>
     <font color=#447700>! Local<a name='29'></font>
<a name='30'>
     INTEGER ci, cj, ck, ni, nj, nk, ip, jp<a name='31'>
<a name='32'>
     <font color=#447700>! Iterate over the ND tile and comtute the values<a name='33'></font>
     <font color=#447700>! from the CD tile. <a name='34'></font>
<a name='35'>
     DO nj = njts, njte<a name='36'>
        cj = cjts + nj / nrj          <font color=#447700>! coord of CD point<a name='37'></font>
        jp = cjts + mod ( nj , nrj )  <font color=#447700>! coord of ND w/i CD point<a name='38'></font>
        DO nk = nkts, nkte<a name='39'>
           ck = nk<a name='40'>
           DO ni = nits, nite<a name='41'>
              ci = cits + ni / nri          <font color=#447700>! coord of CD point<a name='42'></font>
              ip = cits + mod ( ni , nri )  <font color=#447700>! coord of ND w/i CD point<a name='43'></font>
<a name='44'>
              <font color=#447700>! This is a trivial implementation of the interp_fcn; just copies<a name='45'></font>
              <font color=#447700>! the values from the CD into the ND<a name='46'></font>
<a name='47'>
              nfld( ni, nk, nj ) = cfld( ci , ck , cj )<a name='48'>
<a name='49'>
           ENDDO<a name='50'>
        ENDDO<a name='51'>
     ENDDO<a name='52'>
<a name='53'>
     RETURN<a name='54'>
<a name='55'>
   END SUBROUTINE interp_fcn<a name='56'>
<a name='57'>
<a name='58'>
</pre></body></html>